% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gendat.R
\name{gendat}
\alias{gendat}
\title{Generate Simulated Datasets for Cox Proportional Hazards Model}
\usage{
gendat(
  binary = T,
  dimension = 10,
  K = 30,
  n = 2,
  lambda = c(1, 2),
  b1 = log(2),
  theta = 5,
  censrate = 0.5,
  result_data_length = NULL
)
}
\arguments{
\item{binary}{Logical. If \code{TRUE}, the covariate is generated as a binary variable; otherwise, a continuous covariate is generated.}

\item{dimension}{Integer. The number of datasets to be generated.}

\item{K}{Integer. The number of samples within each cluster.}

\item{n}{Integer. The number of clusters (groups) within each dataset.}

\item{lambda}{Numeric vector. A two-element vector specifying the parameters for the baseline distribution:
\itemize{
\item If \code{lambda = c(a, b)}, where \code{a > 1}, the baseline follows a Weibull distribution.
\item If \code{lambda = c(1, b)}, the baseline follows an exponential distribution.
}}

\item{b1}{Numeric. The regression coefficient for the covariate, affecting the hazard function.}

\item{theta}{Numeric. A parameter controlling the dependency structure between survival times within clusters.
Higher values indicate stronger within-cluster correlation.}

\item{censrate}{Numeric. The target censoring rate for the dataset.}

\item{result_data_length}{Integer or \code{NULL}. If specified, truncates each dataset to the given number of rows.}
}
\value{
A list containing:
\itemize{
\item \code{data} - A list of data frames, each containing a generated dataset.
\item \code{censoringrates} - A numeric vector representing the censoring rate for each dataset.
\item \code{mean(censoringrates)} - The mean censoring rate across all datasets.
}
}
\description{
This function generates multiple datasets for survival analysis based on a Cox proportional hazards model.
The baseline hazard function follows either a Weibull or an exponential distribution, depending on the values of \code{lambda}.
The function ensures that the maximum observed time in both the control and treatment groups is checked for censoring.
If the maximum time is not censored, it is forced to be censored to maintain the desired censoring rate.
Users can also specify \code{result_data_length} to control the number of rows in each dataset.
}
\examples{
# Generate datasets with 5 datasets, 2 clusters, and 100 samples per cluster
gendat(binary = FALSE, dimension = 5, K = 100, n = 2, lambda = c(1, 2),
      b1 = log(2), theta = 8, censrate = 0.3, result_data_length = 20)
}
